---
name: 예약 플로우
status: open
created: 2025-12-04T12:40:00Z
updated: 2025-12-04T12:40:00Z
github: [Will be updated when synced to GitHub]
depends_on: [006]
parallel: false
conflicts_with: []
---

# Task: 예약 플로우

## Description

예약 생성 페이지와 예약 완료 페이지를 구현합니다. 예약자 정보 입력, 옵션 선택, 주문 요약, 예약 확인 등의 플로우를 포함합니다.

## Acceptance Criteria

- [ ] 예약 생성 페이지
  - [ ] Progress Bar (Step 1/3 스타일)
  - [ ] 날짜/인원 확인 (수정 가능)
  - [ ] 옵션 선택 (추가 옵션)
  - [ ] 예약자 정보 입력
    - [ ] 이름 (필수)
    - [ ] 연락처 (필수)
    - [ ] 이메일 (필수)
  - [ ] 요청사항 (선택)
  - [ ] 주문 요약 사이드바
    - [ ] 상품 이미지/이름
    - [ ] 날짜/인원
    - [ ] 가격 상세 (성인, 아동, 옵션)
    - [ ] 총 금액
  - [ ] 예약 확정 버튼
- [ ] 예약 완료 페이지
  - [ ] 성공 아이콘/메시지
  - [ ] 예약번호 표시
  - [ ] 예약 상세 정보 요약
  - [ ] 예약 상태 (확정/승인 대기)
  - [ ] CTA 버튼 (예약 내역 보기, 홈으로)
- [ ] 폼 유효성 검사
  - [ ] 실시간 유효성 검사
  - [ ] 에러 메시지 표시
- [ ] 로딩 상태
  - [ ] 예약 진행 중 로딩 오버레이
  - [ ] 버튼 비활성화

## Technical Details

### 파일
- `resources/views/traveler/bookings/create.blade.php`
- `resources/views/traveler/bookings/complete.blade.php`
- `resources/js/components/booking/BookingForm.vue`

### 레이아웃 (예약 생성)
```
┌─────────────────────────────────────────────┐
│  Header (간소화)                             │
├─────────────────────────────────────────────┤
│  Progress Bar (Step 1/3)                     │
├──────────────────────┬──────────────────────┤
│  예약 정보 입력      │  주문 요약            │
│  1. 날짜 확인        │  ┌────────────────┐  │
│  2. 인원 확인        │  │  상품 이미지    │  │
│  3. 옵션 선택        │  │  상품명         │  │
│  4. 예약자 정보      │  │  날짜/인원      │  │
│  5. 요청사항         │  │  가격 상세      │  │
│                      │  │  총 금액        │  │
│  [예약 확정하기]     │  └────────────────┘  │
└──────────────────────┴──────────────────────┘
```

### API 연동
- `POST /api/bookings` - 예약 생성
  ```json
  {
    "product_id": 1,
    "date": "2024-12-25",
    "adults": 2,
    "children": 1,
    "options": [1, 3],
    "booker_name": "홍길동",
    "booker_phone": "010-1234-5678",
    "booker_email": "hong@email.com",
    "requests": "요청사항"
  }
  ```

### 에러 처리
- 422: 유효성 검사 에러 → 필드별 에러 메시지 표시
- 409: 재고 부족 → 알림 모달 표시
- 500: 서버 에러 → 일반 에러 메시지

## Dependencies

- [ ] Task 006 완료 (상품 상세 - 예약 위젯)

## Effort Estimate

- Size: M
- Hours: 8
- Parallel: false (상품 상세 완료 후 진행)

## Definition of Done

- [ ] 예약 생성 폼 동작 확인
- [ ] 유효성 검사 동작 확인
- [ ] 예약 API 연동 확인
- [ ] 예약 완료 페이지 표시 확인
- [ ] 에러 처리 확인
